<!DOCTYPE html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Metalsmith Static Site on Azure | Keystroke Countdown</title><meta name=author content="[object Object]"><meta name=robots content="index, follow"><meta name=HandheldFriendly content=True><meta name=description content="Where I describe how I use Metalsmith to run a static site blog on Azure"><link rel=author href=/humans.txt><link rel=icon type=image/png href=/images/favicon.png><link rel=stylesheet href=/css/all-219136742a6fdee2bdc61d07f9ed89cc.css></head><body class="post-template nav-closed"><div class="nav nav-closed" id=nav><h3 class=nav-title>Menu</h3><a href=# class=nav-close><span class=hidden>Close</span></a><ul class=nav-list><li class=nav-home role=presentation><a href=/ ><i class="fa fa-home" aria-hidden=true></i> Home</a></li><li class=nav-home role=presentation><a href=/about><i class="fa fa-info-circle" aria-hidden=true></i> About Me</a></li><li class=nav-nome role=presentation><a href=/rss.xml><i class="fa fa-rss" aria-hidden=true></i> Subscribe</a> <a href="https://validator.w3.org/feed/check.cgi?url=https%3A//keystrokecountdown.com/rss.xml"><img src=/images/valid-rss-rogers.png alt="[Valid RSS]" title="Validate my RSS feed"></a></li><li class=nav-home role=presentation><a href=/topics><i class="fa fa-tags" aria-hidden=true></i> Topics</a></li><br><li class=nav-home role=presentation><a href=/articles/auv3/index.html>AUv3 Development -- Part 1 of N</a></li><li class=nav-home role=presentation><a href=/articles/knobci/index.html>Swift Snapshot Testing in Github Actions</a></li><li class=nav-home role=presentation><a href=/articles/wma/index.html>Converting WMA Files to MP3</a></li><li class=nav-home role=presentation><a href=/articles/remarkable/index.html>Remarkable Customizations</a></li><li class=nav-home role=presentation><a href=/articles/browsers/index.html>Automatic Browser Selection</a></li><li class=nav-home role=presentation><a href=/articles/genart/index.html>Generative Images with SVG.js</a></li><li class=nav-home role=presentation><a href=/articles/logistic/index.html>Simple Image Classification using Logistic Regression</a></li><li class=nav-home role=presentation><a href=/articles/kerberos/index.html>Using Kerboros on macOS</a></li><li class=nav-home role=presentation><a href=/articles/translate/index.html>Text Language Translation Utility</a></li><li class=nav-home role=presentation><a href=/articles/keymaps/index.html>Remapping Keys on macOS High Sierra</a></li><li class=nav-home role=presentation><a href=/articles/letencrypt/index.html>Fixing Azure Let&#x27;s Encrypt Expired Key</a></li><li class=nav-home role=presentation><a href=/articles/console/index.html>Formatting Console Output</a></li><li class=nav-home role=presentation><a href=/articles/layout/index.html>[DRAFT] Test Page for CSS Settings</a></li><li class=nav-home role=presentation><a href=/articles/docker/index.html>[DRAFT] Playing with .Net Core Apps and Docker on a Mac</a></li><li class=nav-home role=presentation><a href=/articles/autohotkey/index.html>Different (Key)strokes for Different Folks</a></li><li class=nav-home role=presentation><a href=/articles/itunes/index.html>Apple iTunes Library Manipulation with Python</a></li><li class=nav-home role=presentation><a href=/articles/metalsmith2/index.html>Metalsmith Plugins for Server-side KaTeX Processing</a></li><li class=nav-home role=presentation><a href=/articles/poisson/index.html>Arrival Intervals of a Poisson Process</a></li><li class=nav-home role=presentation><a href=/articles/cocoapods/index.html>Framework Bundles in Xcode and CocoaPods</a></li><li class=nav-home role=presentation><a href=/articles/signing/index.html>Signing Embedded Frameworks in an Embedded Framework</a></li><li class=nav-home role=presentation><a href=/articles/vhtc/index.html>Variable Height UITableView Cells in Swift</a></li><li class=nav-home role=presentation><a href=/articles/joystick/index.html>JoyStickView for iOS in Swift</a></li><li class=nav-home role=presentation><a href=/articles/dependencyInjection/index.html>Dependency Injection for iOS in Swift</a></li><li class=nav-home role=presentation><a href=/articles/corePlot/index.html>Working with Core Plot</a></li><li class=nav-home role=presentation><a href=/articles/slidingViews/index.html>Sliding UIViews with Core Animation</a></li><li class=nav-home role=presentation><a href=/articles/swiftCollection/index.html>Adding Binary Search to Swift Collections</a></li><li class=nav-home role=presentation><a href=/articles/metalsmith/index.html>Metalsmith Static Site on Azure</a></li><li class=nav-home role=presentation><a href=/articles/bloom/index.html>Bloom Filters in Python</a></li><li class=nav-home role=presentation><a href="/articles/Testing IPython/testing-ipython.html">Testing IPython</a></li><li class=nav-home role=presentation><a href=/articles/decrypt/index.html>Decrypting Logs in Python</a></li><li class=nav-home role=presentation><a href=/articles/power/index.html>Power of Optimal Algorithm Design</a></li><li class=nav-home role=presentation><a href=/articles/PDMPlayground/index.html>PDM Playground</a></li><li class=nav-home role=presentation><a href=/articles/bscope/index.html>B-Scope Radar Display</a></li><li class=nav-home role=presentation><a href=/articles/ascope/index.html>A-Scope Signal Display</a></li><li class=nav-home role=presentation><a href=/articles/radardisplay/index.html>Radar Display</a></li><li class=nav-home role=presentation><a href=/articles/dfwtraffic/index.html>Visualizing Traffic at DFW Airport</a></li></ul></div><span class=nav-cover></span><div class=site-wrapper><header class="main-header post-head" style="background-image: url(/articles/metalsmith/computer-keyboard-stones-on-grass-background-header.jpg)"><nav class="main-nav overlay clearfix"><a class="menu-button icon-menu" href=#><span class=word>Menu</span></a></nav></header><main class=content role=main><article class=post><header class=post-header><h1 class=post-title><a href=/ >Metalsmith Static Site on Azure</a></h1><section class=post-meta><time class=post-date datetime="Tue Aug 30 2016 09:56:02 GMT+0200 (Central European Summer Time)">Aug 30th, 2016</time> <a class=post-date href=/topics><i class="fa fa-tags" aria-hidden=true></i></a> <a class=post-date href=/topics/azure.html>Azure (3)</a> • <a class=post-date href=/topics/javascript.html>Javascript (5)</a> • <a class=post-date href=/topics/katex.html>KaTeX (2)</a> • <a class=post-date href=/topics/markdown.html>Markdown (4)</a> • <a class=post-date href=/topics/metalsmith.html>Metalsmith (4)</a> • <a class=post-date href=/topics/remarkable.html>Remarkable (4)</a></section></header><section class=post-content><p>I enjoy reading blogs, and I’ve always wanted one of my own. However, I had a short set of requirements that I wanted to satisfy with any solution I came up with:</p><ul><li><a href=https://daringfireball.net/projects/markdown/ >Markdown</a> support (plus some useful extensions)</li><li>Mobile support (at least iPad)</li><li>Easy photo integration</li><li>Perhaps <a href=https://ipython.org/index.html>IPython</a> integration</li></ul><p>I quickly found the <a href=http://ghost.org>Ghost</a> platform (and app) which is an incredibly cool bit of technology. I really liked the ability to create and edit in Markdown in a browser app. Adding a photo inline is incredibly easy to do, and there are some nice themes. I played around with Ghost until my 14-day trial period came to an end. I was nearly hooked, but in the end I thought that 29 USD / month was too steep a price for just one blog. So I looked elsewhere.</p><h2>An Azure Sky</h2><p>I used to work at Skype (Microsoft), and I was and still am really impressed with Microsoft’s <a href=http://azure.microsoft.com>Azure</a> service. I decided to see if I could use Azure to host my site. There are variety of hosting options available, but the simplest is just a stock Azure Web app. A big feature of this setup is that one can allow updates to the web content via Git. Thus, a reasonable workflow becomes:</p><ul><li>Update blog content</li><li>Commit changes to local Git repository</li><li>Push changes to Azure remote Git repository</li></ul><p>With the last step, Azure will do whatever is necessary to incorporate the changes from Git, including restarting the IIS server when there are configuration changes in the <code>web.config</code> file – which is necessary when adding additional media MIME types.</p><h2>Static Cling</h2><p>Using the above work flow, I could craft my own HTML pages and be done, but I’ve been there back in Netscape days, and I’m not interested in doing that again. I’d rather do some version of Markdown in a text editor such as Emacs, and then run some kind of conversion process to generate the HTML pages. Also, I did not want to do the conversion upon each request on the Azure server – instead, I should be able to do the conversion away from the server, and then add the converted output to the Azure web server.</p><p>Thus, I wanted a static site generator. I began looking at various static site generators (see https://www.staticgen.com for a good place to start), focusing on the scripting languages I already knew (Javascript and Python). I evaluated several, and I was close to going with <a href=http://www.getnikola.com>Nikola</a> but in the end I went with <a href=http://metalsmith.io>Metalsmith</a> for reasons I can no longer recall.</p><h2>Metalsmith</h2><p>In brief, Metalsmith is a pipeline processor which takes in a set of files, pushes them through one or more user-defined processing steps, resulting in (hopefully) a set of HTML and media files (pictures, movies, etc.). The input files can be anything, really: the default action is to copy them to a destination directory. There are various canned Metalsmith processors available on the <a href=http://metalsmith.io>Metalsmith site</a> (scroll down), and additional ones can also be found on <a href="https://www.npmjs.com/search?q=metalsmith">NPM</a> – just search for <code>metalsmith</code>.</p><p>The processing chain I came up with is a mixture of canned processors plus some custom (inline) processors I created to do things they way I thought made sense. The whole beautiful mess is available on my <a href=https://github.com/bradhowes/keystrokecountdown>GitHub site</a>, where I also take a stab at documenting the processing flow. So far, the flow makes sense and does everything I want the way I want it. I especially like to IPython support using <a href=https://github.com/jsvine/notebookjs>notebookjs</a> and the inline math rendering obtained through <a href=https://github.com/Khan/KaTeX>KaTeX</a>. Both highly recommended.</p><h2>Workflow</h2><p>To post a new blog item, I create a new directory under <code>src/articles</code> and drop a new <code>index.md</code> file into the new directory. This will hold the Markdown content of the new post. Each file starts with a header such as below (taken from this very post):</p><pre class=language-text><code class=language-text>---
title: Metalsmith Static Site on Azure
description: Where I describe how I use Metalsmith to run a static site blog on Azure
date: 2016-08-30 09:56:02+02:00
author: Brad Howes
tags: Javascript, Metalsmith, Markdown, Azure
layout: post.hbs
image: computer-keyboard-stones-on-grass-background-header.jpg
---
</code></pre><p>The <code>title</code> is what appears at the top of the post and in post listings. The <code>description</code> content supposedly describes what the post is about – it is shown below the title in all pages except for the post itself. Scroll to the bottom of this page to see what I mean.</p><p>I think <code>date</code> and <code>author</code> are self-explanatory. I can add or more tags to the <code>tags</code> header which allows grouping posts by their tag values. Note that on the site, I confusingly refer to these as “topics” but not consistently – I should fix that. Next, <code>layout</code> says which <a href=http://handlebarsjs.com>Handlebar</a> template to use for rendering into HTML. Finally, the <code>image</code> header identifies an image to show as a banner across the top of the blog post, above the title.</p><p>Below the metadata header comes the contents of the post.</p><p>If I am on my laptop, I can easily preview the post after each save of the <code>index.md</code> file by running the following in the top-level of the blog’s repository:</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=%></span></span><span class=command-line-command>node build</span></code></pre><p>This will create a simple web server that is running on <code>localhost:7000</code> with the feature of rebuilding the site when a file changes. <em>NOTE</em>: this is different than the stock Metalsmith behavior which tries to only reprocess the file that changed. I was unable to get some changes to cause a proper reprocess so I wrote my own file watcher and processor and just regenerate the whole site when any file changes. Expensive but simple.</p><h2>Saving and Deploying</h2><p>When I’m satisfied with the blog post, I can add the new file(s) to the local repository, commit them, and then push the changes to GitHub.</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=%></span><span data-prompt=%></span><span data-prompt=%></span><span data-prompt=%></span></span><span class=command-line-command>cd ~/src/keystrokecountdown</span>
<span class=command-line-command>git add src/articles/newpost</span>
<span class=command-line-command>git commit -am 'New post'</span>
<span class=command-line-command>git push</span></code></pre><p>To deploy the new blog post to my Azure web site, I have to do basically the same, but from the site’s deployment directory:</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=%></span><span data-prompt=%></span><span data-prompt=%></span><span data-prompt=%></span></span><span class=command-line-command>cd ~/Sites/keystrokecountdown</span>
<span class=command-line-command>git add src/articles/newpost</span>
<span class=command-line-command>git commit -am 'New post'</span>
<span class=command-line-command>git push</span></code></pre><p>That last step will cause my Azure Web service to deploy the new content. These steps are fairly easy to automate via a Bash script or function which just takes in a post directory name and a comment:</p><pre class=language-bash><code class=language-bash><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">DIR</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${1}</span>"</span>
<span class="token builtin class-name">shift</span> <span class="token number">1</span>
<span class="token assign-left variable">COMMENT</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${@}</span>"</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${<span class="token environment constant">HOME</span>}</span>/src/keystrokecountdown <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** missing source repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> <span class="token function">add</span> src/articles/<span class="token variable">${DIR}</span> <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to add '<span class="token variable">${DIR}</span>' to source repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> commit -am <span class="token string">"<span class="token variable">${COMMENT}</span>"</span> <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to commit changes to source repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> push <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to push changes to GitHub"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>

<span class="token builtin class-name">cd</span> <span class="token variable">${<span class="token environment constant">HOME</span>}</span>/Sites/keystrokecountdown <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** missing site repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> <span class="token function">add</span> articles/<span class="token variable">${DIR}</span> <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to add <span class="token variable">${DIR}</span>' to site repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> commit -am <span class="token string">"<span class="token variable">${COMMENT}</span>"</span> <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to commit changes to site repository"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token function">git</span> push <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">"*** failed to push changes to Azure"</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre><p>Not too shabby…</p><h2>Serving Static Media using IIS</h2><p>As I mentioned above, one must muck with a <code>web.config</code> file when serving anything other than HTML and image files. For instance, my site uses some free fonts which have the <code>.woff</code> or <code>.woff2</code> extension. To allow these, and to pass them with the right MIME type header, the following must be part of the <code>src/web.config</code> file in the blog source repository (which is just <code>web.config</code> in the Azure site’s repository):</p><pre class=language-xml><code class=language-xml><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8" ?></span> <span class="token comment">&lt;!-- -*- Mode: xml -*- --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>staticContent</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.woff<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- In case IIS already has this mime type --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mimeMap</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.woff<span class="token punctuation">"</span></span> <span class="token attr-name">mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/x-font-woff<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.woff2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- In case IIS already has this mime type --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mimeMap</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.woff2<span class="token punctuation">"</span></span> <span class="token attr-name">mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/x-font-woff<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>staticContent</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
</code></pre><p>Furthermore, I want to support RSS feeds, which requires allowing XML responses from an RSS query, I need to amend the above with the following snippet:</p><pre class=language-xml><code class=language-xml><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.xml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- In case IIS already has this mime type --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mimeMap</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.xml<span class="token punctuation">"</span></span> <span class="token attr-name">mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/rss+xml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre><p>Finally, if I want to serve a video file with an <code>.m4v</code> or <code>.mp4</code> extension, I need the following entries:</p><pre class=language-xml><code class=language-xml><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.m4v<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- In case IIS already has this mime type --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mimeMap</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.m4v<span class="token punctuation">"</span></span> <span class="token attr-name">mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- In case IIS already has this mime type --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mimeMap</span> <span class="token attr-name">fileExtension</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre><p>That’s is it so far. To see a blog post with an embedded movie, go <a href=/articles/radardisplay>here</a>.</p></section><footer class=post-footer><figure class=author-image><a class=img href=https://keystrokecountdown.com style=background-image:url(/images/HarrisonsLaugh.png)><span class=hidden>Brad Howes's Picture</span></a></figure><section class=author><h4><a href=https://keystrokecountdown.com>Brad Howes</a></h4><p>Owner <a href=https://apps.apple.com/us/developer/b-ray-software/id430573224>B-Ray Software</a>. Programmer in C++, Swift, Python, Javascript and more. Started out doing punch cards in FORTRAN.</p><div class=author-meta><span class="author-location icon-location">Paris, France</span> <span class="author-link icon-link"><a href=http://linkedin.com/in/bradhowes>http://linkedin.com/in/bradhowes</a></span> <span class="author-link icon-feed"><a href=mailto:bradhowes@mac.com>&nbsp;Email Me</a></span></div></section><section class=share><h4>Share this page</h4><div class=social-icons><a class=icon-twitter href="https://twitter.com/intent/tweet?text=Metalsmith%20Static%20Site%20on%20Azure&amp;url=https%3A%2Fkeystrokecountdown.com%2Farticles%2Fmetalsmith%2Findex.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><span class=hidden>Twitter</span> </a><a class=icon-feed href="mailto:bradhowes@mac.com?subject=Curiosity&body=https%3A%2Fkeystrokecountdown.com%2Farticles%2Fmetalsmith%2Findex.html"><span class=hidden>Email</span></a></div></section></footer></article></main><aside class=read-next><a class=read-next-story style="background-image: url(/articles/bloom/BloomFilters.svg)" href=/articles/bloom/index.html><section class=post><h2>Bloom Filters in Python</h2><div class=post-meta>Bloom Filter can quickly and accurately determine if a given key is not part of a set of keys.</div></section></a><a class="read-next-story prev" style="background-image: url(/articles/swiftCollection/header.png)" href=/articles/swiftCollection/index.html><section class=post><h2>Adding Binary Search to Swift Collections</h2><div class=post-meta>My first foray into extending Swift&#x27;s Collection protocol in order to provide fast searching of ordered elements.</div></section></a></aside><footer class="site-footer clearfix"><section class=copyright><a href=https://keystrokecountdown.com>Keystroke Countdown</a> &copy; <span id=copyrightYear>2016</span> Brad Howes — <a href=https://github.com/bradhowes/keystrokecountdown>Source</a></section></footer></div><script>(function () {
      var installClickHandlers = function () {
        var navElement = document.getElementById("nav");
    
        // The click handler just toggles classes to do the showing/hiding
        //
        var clickHandler = function(e) {
          document.body.classList.toggle("nav-opened");
          document.body.classList.toggle("nav-closed");
          if (navElement) {
            navElement.classList.toggle("nav-opened");
            navElement.classList.toggle("nav-closed");
          }
        };
    
        // Find elements we wish to tap for click events
        //
        var elements = Array.prototype.slice.call(
          document.querySelectorAll(".menu-button, .nav-cover, .nav-close"));
        if (elements && elements.length > 0) {
          elements.forEach(function (element) {
            element.addEventListener('click', clickHandler);
          });
        }
      };
    
      // When the document is finished loading, install event handlers to show/hide sidebar menu
      //
      window.document.addEventListener("DOMContentLoaded", function (event) {
        installClickHandlers();
    
        // Set the copyright year at the bottom of our pages
        //
        window.document.getElementById("copyrightYear").innerHTML = (new Date()).getFullYear();
      });
    })();</script></body></html>