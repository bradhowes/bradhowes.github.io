<!DOCTYPE html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Formatting Console Output | Keystroke Countdown</title><meta name=author content="[object Object]"><meta name=robots content="index, follow"><meta name=HandheldFriendly content=True><meta name=description content="Short discussion on how I updated my blog to show formatted console output"><link rel=author href=/humans.txt><link rel=icon type=image/png href=/images/favicon.png><link rel=stylesheet href=/css/all-219136742a6fdee2bdc61d07f9ed89cc.css></head><body class="post-template nav-closed"><div class="nav nav-closed" id=nav><h3 class=nav-title>Menu</h3><a href=# class=nav-close><span class=hidden>Close</span></a><ul class=nav-list><li class=nav-home role=presentation><a href=/ ><i class="fa fa-home" aria-hidden=true></i> Home</a></li><li class=nav-home role=presentation><a href=/about><i class="fa fa-info-circle" aria-hidden=true></i> About Me</a></li><li class=nav-nome role=presentation><a href=/rss.xml><i class="fa fa-rss" aria-hidden=true></i> Subscribe</a> <a href="https://validator.w3.org/feed/check.cgi?url=https%3A//keystrokecountdown.com/rss.xml"><img src=/images/valid-rss-rogers.png alt="[Valid RSS]" title="Validate my RSS feed"></a></li><li class=nav-home role=presentation><a href=/topics><i class="fa fa-tags" aria-hidden=true></i> Topics</a></li><br><li class=nav-home role=presentation><a href=/articles/auv3/index.html>AUv3 Development -- Part 1 of N</a></li><li class=nav-home role=presentation><a href=/articles/knobci/index.html>Swift Snapshot Testing in Github Actions</a></li><li class=nav-home role=presentation><a href=/articles/wma/index.html>Converting WMA Files to MP3</a></li><li class=nav-home role=presentation><a href=/articles/remarkable/index.html>Remarkable Customizations</a></li><li class=nav-home role=presentation><a href=/articles/browsers/index.html>Automatic Browser Selection</a></li><li class=nav-home role=presentation><a href=/articles/genart/index.html>Generative Images with SVG.js</a></li><li class=nav-home role=presentation><a href=/articles/logistic/index.html>Simple Image Classification using Logistic Regression</a></li><li class=nav-home role=presentation><a href=/articles/kerberos/index.html>Using Kerboros on macOS</a></li><li class=nav-home role=presentation><a href=/articles/translate/index.html>Text Language Translation Utility</a></li><li class=nav-home role=presentation><a href=/articles/keymaps/index.html>Remapping Keys on macOS High Sierra</a></li><li class=nav-home role=presentation><a href=/articles/letencrypt/index.html>Fixing Azure Let&#x27;s Encrypt Expired Key</a></li><li class=nav-home role=presentation><a href=/articles/console/index.html>Formatting Console Output</a></li><li class=nav-home role=presentation><a href=/articles/layout/index.html>[DRAFT] Test Page for CSS Settings</a></li><li class=nav-home role=presentation><a href=/articles/docker/index.html>[DRAFT] Playing with .Net Core Apps and Docker on a Mac</a></li><li class=nav-home role=presentation><a href=/articles/autohotkey/index.html>Different (Key)strokes for Different Folks</a></li><li class=nav-home role=presentation><a href=/articles/itunes/index.html>Apple iTunes Library Manipulation with Python</a></li><li class=nav-home role=presentation><a href=/articles/metalsmith2/index.html>Metalsmith Plugins for Server-side KaTeX Processing</a></li><li class=nav-home role=presentation><a href=/articles/poisson/index.html>Arrival Intervals of a Poisson Process</a></li><li class=nav-home role=presentation><a href=/articles/cocoapods/index.html>Framework Bundles in Xcode and CocoaPods</a></li><li class=nav-home role=presentation><a href=/articles/signing/index.html>Signing Embedded Frameworks in an Embedded Framework</a></li><li class=nav-home role=presentation><a href=/articles/vhtc/index.html>Variable Height UITableView Cells in Swift</a></li><li class=nav-home role=presentation><a href=/articles/joystick/index.html>JoyStickView for iOS in Swift</a></li><li class=nav-home role=presentation><a href=/articles/dependencyInjection/index.html>Dependency Injection for iOS in Swift</a></li><li class=nav-home role=presentation><a href=/articles/corePlot/index.html>Working with Core Plot</a></li><li class=nav-home role=presentation><a href=/articles/slidingViews/index.html>Sliding UIViews with Core Animation</a></li><li class=nav-home role=presentation><a href=/articles/swiftCollection/index.html>Adding Binary Search to Swift Collections</a></li><li class=nav-home role=presentation><a href=/articles/metalsmith/index.html>Metalsmith Static Site on Azure</a></li><li class=nav-home role=presentation><a href=/articles/bloom/index.html>Bloom Filters in Python</a></li><li class=nav-home role=presentation><a href="/articles/Testing IPython/testing-ipython.html">Testing IPython</a></li><li class=nav-home role=presentation><a href=/articles/decrypt/index.html>Decrypting Logs in Python</a></li><li class=nav-home role=presentation><a href=/articles/power/index.html>Power of Optimal Algorithm Design</a></li><li class=nav-home role=presentation><a href=/articles/PDMPlayground/index.html>PDM Playground</a></li><li class=nav-home role=presentation><a href=/articles/bscope/index.html>B-Scope Radar Display</a></li><li class=nav-home role=presentation><a href=/articles/ascope/index.html>A-Scope Signal Display</a></li><li class=nav-home role=presentation><a href=/articles/radardisplay/index.html>Radar Display</a></li><li class=nav-home role=presentation><a href=/articles/dfwtraffic/index.html>Visualizing Traffic at DFW Airport</a></li></ul></div><span class=nav-cover></span><div class=site-wrapper><header class="main-header post-head" style="background-image: url(/articles/console/zscr2.png)"><nav class="main-nav overlay clearfix"><a class="menu-button icon-menu" href=#><span class=word>Menu</span></a></nav></header><main class=content role=main><article class=post><header class=post-header><h1 class=post-title><a href=/ >Formatting Console Output</a></h1><section class=post-meta><time class=post-date datetime="Fri Mar 16 2018 10:06:00 GMT+0100 (Central European Standard Time)">Mar 16th, 2018</time> <a class=post-date href=/topics><i class="fa fa-tags" aria-hidden=true></i></a> <a class=post-date href=/topics/javascript.html>Javascript (5)</a> • <a class=post-date href=/topics/markdown.html>Markdown (4)</a> • <a class=post-date href=/topics/metalsmith.html>Metalsmith (4)</a> • <a class=post-date href=/topics/prismjs.html>Prismjs (1)</a> • <a class=post-date href=/topics/remarkable.html>Remarkable (4)</a></section></header><section class=post-content><p>I recently spent some time with Docker and .NET Core and I have been documenting my efforts for a future post on this blog. While doing that, I got side-tracked by a plugin I saw on <a href=http://prismjs.com>Prism</a> called <a href=http://prismjs.com/plugins/command-line/ >Command Line</a> which looked promising for showing console commands and output. So I updated the Prism Javascript and CSS files and decided to try it out using the following markdown code <em>fence</em>:</p><pre class=language-markdown><code class=language-markdown> ```bash command-line
</code></pre><p>This <em>should</em> colorize any Bash keywords and invoke the command-line plugin processing. Here’s the result showing the results of an <code>ls -l</code> in the repository for this blog:</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span><span data-prompt=[user@localhost]></span></span>howes% ls -l
total 856
-rw-r--r--    1 howes  staff    1077 Mar 14 15:21 LICENSE
-rw-r--r--    1 howes  staff   13310 Mar 14 15:42 README.md
-rw-r--r--    1 howes  staff   19530 Mar 15 10:06 build.js
drwxr-xr-x    7 howes  staff     224 Mar 14 15:21 images/
-rw-r--r--    1 howes  staff     854 Mar 15 15:18 myfence.js
drwxr-xr-x  678 howes  staff   21696 Mar 14 15:47 node_modules/
-rw-r--r--    1 howes  staff  380823 Mar 14 15:47 package-lock.json
-rw-r--r--    1 howes  staff    1046 Mar 14 15:46 package.json
drwxr-xr-x   15 howes  staff     480 Mar 14 15:21 src/
-rw-r--r--    1 howes  staff    5099 Mar 14 15:21 srcset.js
drwxr-xr-x    8 howes  staff     256 Mar 14 15:21 templates/</code></pre><p>Not bad, but needs some work. The <a href=http://prismjs.com/plugins/command-line/ >documentation for the plugin</a> mentions that one can control what is shown as a prompt (the grayish text on the left) and also which lines will have a prompt. However, to control the latter I must use numbers and ranges, which is a bit too much effort for my tastes – I’ll get to that in a second. Right now, we need a way to manipulate the HTML <code>&lt;pre&gt;</code> element that will wrap the console output so that I can set the attributes the way I want. Fortunately the <a href=https://www.npmjs.com/package/remarkable>Remarkable</a> package I’m using allows for this if I create and install a custom code fence. Here’s what I came up with:</p><pre class=language-javascript><code class=language-javascript><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">escapeHtml</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[&amp;&lt;>"]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> entityMap <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token string">"&amp;"</span><span class="token operator">:</span> <span class="token string">"&amp;amp;"</span><span class="token punctuation">,</span>
          <span class="token string">"&lt;"</span><span class="token operator">:</span> <span class="token string">"&amp;lt;"</span><span class="token punctuation">,</span>
          <span class="token string">">"</span><span class="token operator">:</span> <span class="token string">"&amp;gt;"</span><span class="token punctuation">,</span>
          <span class="token string">'"'</span><span class="token operator">:</span> <span class="token string">'&amp;quot;'</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> entityMap<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">md<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    md<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span>rules<span class="token punctuation">.</span>fence_custom<span class="token punctuation">.</span><span class="token function-variable function">console</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tokens<span class="token punctuation">,</span> idx<span class="token punctuation">,</span> options<span class="token punctuation">,</span> env<span class="token punctuation">,</span> instance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> token <span class="token operator">=</span> tokens<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> body <span class="token operator">=</span> token<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\s+|\s+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// strip leading/trailing whitespace</span>
        <span class="token keyword">var</span> bits <span class="token operator">=</span> token<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> attributes <span class="token operator">=</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token punctuation">(</span>bits<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'data-prompt="%"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;pre class="command-line language-console"'</span> <span class="token operator">+</span> attributes <span class="token operator">+</span> <span class="token string">'>&lt;code>'</span> <span class="token operator">+</span> <span class="token function">escapeHtml</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token operator">+</span> 
            <span class="token string">'&lt;/code>&lt;/pre>'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>The key bit is the function definition at the bottom that will be used when I tag a code block with the name <em>console</em>. We simply emit the text in the fence wrapped by <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> tags, setting the right attributes in the <code>&lt;pre&gt;</code> tag so that the command-line plugin will function correctly. I updated my <code>build.js</code> static site generator to load this custom fence parser like so:</p><pre class=language-javascript><code class=language-javascript><span class="token keyword">var</span> consoleFence <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./consoleFence.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">branch</span><span class="token punctuation">(</span><span class="token string">"**/*.md"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">files<span class="token punctuation">,</span> metalsmith<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// Update metadata for each Markdown file. Create a description from the initial text of the</span>
        <span class="token comment">// page if not set. We create *another* Markdown parser just to handle auto-generated snippet</span>
        <span class="token comment">// text.</span>
        <span class="token comment">//</span>
        <span class="token keyword">var</span> md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remarkable</span><span class="token punctuation">(</span><span class="token string">"full"</span><span class="token punctuation">,</span> markdownOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
        md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>katexPlugin<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>consoleFence<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> data <span class="token operator">=</span> files<span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">updateMetadata</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> data<span class="token punctuation">[</span><span class="token string">"description"</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"undefined"</span> <span class="token operator">||</span> data<span class="token punctuation">.</span>description <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                data<span class="token punctuation">.</span>description <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token function">createSnippet</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">markdown</span><span class="token punctuation">(</span><span class="token string">"full"</span><span class="token punctuation">,</span> markdownOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>katexPlugin<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>consoleFence<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><p>Now, if I add <code>console</code> to the end of the code fence start, Remarkable will use my custom fence render routine instead of the stock one. Let’s give it a shot while adding some attribute settings to set the prompt and to identify the lines of output (<code>data-prompt=&quot;howes%&quot; data-output=&quot;2-999&quot;</code>):</p><pre class=language-2-99><code class=language-2-99><span class=command-line-prompt><span data-prompt=howes%></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span></span>howes% ls -l
total 856
-rw-r--r--    1 howes  staff    1077 Mar 14 15:21 LICENSE
-rw-r--r--    1 howes  staff   13310 Mar 14 15:42 README.md
-rw-r--r--    1 howes  staff   19530 Mar 15 10:06 build.js
drwxr-xr-x    7 howes  staff     224 Mar 14 15:21 images/
-rw-r--r--    1 howes  staff     854 Mar 15 15:18 myfence.js
drwxr-xr-x  678 howes  staff   21696 Mar 14 15:47 node_modules/
-rw-r--r--    1 howes  staff  380823 Mar 14 15:47 package-lock.json
-rw-r--r--    1 howes  staff    1046 Mar 14 15:46 package.json
drwxr-xr-x   15 howes  staff     480 Mar 14 15:21 src/
-rw-r--r--    1 howes  staff    5099 Mar 14 15:21 srcset.js
drwxr-xr-x    8 howes  staff     256 Mar 14 15:21 templates/</code></pre><p>Better, but two things irk me. First, I have to manually remove the duplicate <code>howes%</code> from the first line, and I <em>still</em> have to indicate which lines are output. Too much manual work. Perhaps I can tweak the command-line plugin to do what I want. The plugin code itself is pretty straightforward, and with a little effort I come up with the following addition:</p><pre class=language-javascript><code class=language-javascript><span class="token keyword">var</span> filterContent <span class="token operator">=</span> <span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-filter'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>filterContent<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> content<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> line <span class="token operator">=</span> content<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> promptText<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">==</span> promptText<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// We have a command -- strip off the prompt from the source text and wrap in &lt;span></span>
            content<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'&lt;span class="command-line-command">'</span> <span class="token operator">+</span> line<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>promptText<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                <span class="token string">'&lt;/span>'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// We have output -- strip off the prompt tags for the line</span>
            <span class="token keyword">var</span> node <span class="token operator">=</span> prompt<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            node<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'data-user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            node<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'data-host'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            node<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'data-prompt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    env<span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>I look for a <em>new</em> attribute called <code>data-filter</code> and if it holds a non-empty value, then I go through each of the lines wrapped in the <code>&lt;code&gt;</code> block. If the line starts with a prompt, I strip it off and wrap the rest of the line in a <code>&lt;span&gt;</code> with a class of <code>command-line-command</code>, which I can now customize with CSS like so:</p><pre class=language-css><code class=language-css><span class="token selector">.command-line-command</span> <span class="token punctuation">{</span>
   <span class="token property">color</span><span class="token punctuation">:</span> #3f3
<span class="token punctuation">}</span>
</code></pre><p>Otherwise, I assume the line is part of the output and I remove the attributes which show a prompt (same behavior as the stock plugin). Using this modified plugin, I now get:</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=howes%></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span></span><span class=command-line-command>ls -l</span>
total 856
-rw-r--r--    1 howes  staff    1077 Mar 14 15:21 LICENSE
-rw-r--r--    1 howes  staff   13310 Mar 14 15:42 README.md
-rw-r--r--    1 howes  staff   19530 Mar 15 10:06 build.js
drwxr-xr-x    7 howes  staff     224 Mar 14 15:21 images/
-rw-r--r--    1 howes  staff     854 Mar 15 15:18 myfence.js
drwxr-xr-x  678 howes  staff   21696 Mar 14 15:47 node_modules/
-rw-r--r--    1 howes  staff  380823 Mar 14 15:47 package-lock.json
-rw-r--r--    1 howes  staff    1046 Mar 14 15:46 package.json
drwxr-xr-x   15 howes  staff     480 Mar 14 15:21 src/
-rw-r--r--    1 howes  staff    5099 Mar 14 15:21 srcset.js
drwxr-xr-x    8 howes  staff     256 Mar 14 15:21 templates/</code></pre><p>Bingo! One more example just for kicks, this time with multiple commands:</p><pre class=language-console><code class=language-console><span class=command-line-prompt><span data-prompt=howes%></span><span data-prompt=" "></span><span data-prompt=howes%></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=howes%></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span><span data-prompt=" "></span></span><span class=command-line-command>date</span>
Fri Mar 16 12:50:13 CET 2018
<span class=command-line-command>ls</span>
LICENSE            build.js           myfence.js         package-lock.json  consoleFence.js    srcset.js
README.md          images/            node_modules/      package.json       src/               templates/
<span class=command-line-command>head build.js</span>
var branch = require(&quot;metalsmith-branch&quot;);
var cleancss = require(&quot;metalsmith-clean-css&quot;);
var collections = require(&quot;metalsmith-collections&quot;);
var crypto = require(&quot;crypto&quot;);
var define = require(&quot;metalsmith-define&quot;);
var fs = require(&quot;fs&quot;);
var Gaze = require(&quot;gaze&quot;).Gaze;
var KatexFilter = require(&quot;notebookjs-katex&quot;);
var katexPlugin = require(&quot;remarkable-katex&quot;);
var layouts = require(&quot;metalsmith-layouts&quot;);</code></pre><p>My work is done here.</p><h1>Code</h1><p>I’ve submitted a <a href=https://github.com/PrismJS/prism/pull/1358>pull request</a> with my command-line plugin changes. The rest of the changes described here are part of the <a href=https://github.com/bradhowes/keystrokecountdown>blog repository</a>.</p><h1>Wait! Forget All of the Above</h1><p>Thinking about all of this console coloring <em>finally</em> brought about a realization that I’m doing it all wrong. My blog is supposed to be a <em>static</em> site, with little to no Javascript being run on the client. So why do I have a customized Javascript routine just to render console output? I should be able to do it all from within Metalsmith.</p><p>First, I refactored my <a href=https://github.com/bradhowes/keystrokecountdown/blob/master/build.js>build.js</a> script so that it would have just one <code>Remarkable</code> instance:</p><pre class=language-javascript><code class=language-javascript><span class="token keyword">var</span> md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Remarkable</span><span class="token punctuation">(</span><span class="token string">"full"</span><span class="token punctuation">,</span> markdownOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>katexPlugin<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>consoleFence<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>I then created a custom <em>highlighter</em> for <code>md</code> to use when rendering fenced blocks:</p><pre class=language-javascript><code class=language-javascript><span class="token keyword">var</span> <span class="token function-variable function">highlighter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> lang <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lang <span class="token operator">=</span> <span class="token string">'markup'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'prismjs/components/prism-'</span> <span class="token operator">+</span> lang <span class="token operator">+</span> <span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'** Failed to load prism lang: '</span> <span class="token operator">+</span> lang<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Prism<span class="token punctuation">.</span>languages<span class="token punctuation">[</span>lang<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Prism<span class="token punctuation">.</span>languages<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> s <span class="token operator">=</span> Prism<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> Prism<span class="token punctuation">.</span>languages<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>We check for a language definition in Prism, and if it does not exist we attempt to load it. If that fails, we just set it to <code>false</code> so that we won’t try again in the future. Finally, if we <em>really</em> have a language definition, we ask Prism to perform the highlighting of the code block.</p><p>Now, we need to provide the <code>md</code> instance with our highlighter method. Here is the updated <code>markdownOptions</code> definition with it:</p><pre class=language-javascript><code class=language-javascript><span class="token keyword">var</span> markdownOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    html<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>             <span class="token comment">// Allow and pass inline HTML</span>
    sup<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token comment">// Accept '^' as a superscript operator</span>
    breaks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          <span class="token comment">// Require two new lines to end a paragraph</span>
    typographer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// Allow substitutions for nicer looking text</span>
    smartypants<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// Allow substitutions for nicer looking text</span>
    gfm<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              <span class="token comment">// Allow GitHub Flavored Markdown (GFM) constructs</span>
    footnote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">// Allow footnotes</span>
    tables<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>           <span class="token comment">// Allow table constructs</span>
    langPrefix<span class="token operator">:</span> <span class="token string">"language-"</span><span class="token punctuation">,</span> <span class="token comment">// Prefix to use for &lt;code> language designation (set to match Prism setting)</span>
    highlight<span class="token operator">:</span> highlighter
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Finally, I decided to drop the use of <a href=https://www.npmjs.com/package/metalsmith-markdown-remarkable>metalsmith-markdown-remarkable</a> because it was creating a new <code>Remarkable</code>, and I wanted to be able to use my own instance. In its place, I just have a generic Metalsmith processor for Markdown files:</p><pre class=language-javascript><code class=language-javascript><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">files<span class="token punctuation">,</span> metalsmith<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> data <span class="token operator">=</span> files<span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token punctuation">,</span> dirName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span>
                   htmlName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.html'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>dirName <span class="token operator">!==</span> <span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            htmlName <span class="token operator">=</span> dirName <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> htmlName<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> str <span class="token operator">=</span> md<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>contents<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        data<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Buffer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> files<span class="token punctuation">[</span>file<span class="token punctuation">]</span><span class="token punctuation">;</span>
        files<span class="token punctuation">[</span>htmlName<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>The last step was to remove the <code>prism.min.js</code> file so the final HTML pages no longer see it. Enough.</p><p>For closure, here is my updated <code>consoleFence</code> routine shown above, modified to <em>Do the Right Thing</em> without any help from Prism. Also, it supports a <code>-d</code> mode so it can act or <em>demo</em> like the original command-line plugin I talked about above.</p><pre class=language-javascript><code class=language-javascript>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">md<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    md<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span>rules<span class="token punctuation">.</span>fence_custom<span class="token punctuation">.</span><span class="token function-variable function">console</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tokens<span class="token punctuation">,</span> idx<span class="token punctuation">,</span> options<span class="token punctuation">,</span> env<span class="token punctuation">,</span> instance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> token <span class="token operator">=</span> tokens<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> body <span class="token operator">=</span> token<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\s+|\s+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// strip leading/trailing whitespace</span>
        <span class="token keyword">var</span> lines <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// separate into individual lines</span>
        <span class="token keyword">var</span> bits <span class="token operator">=</span> token<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "console [parameter,list]</span>
        <span class="token keyword">var</span> args <span class="token operator">=</span> bits<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> bits<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Parameters afer 'console' separated by ','</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> args <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'-d'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            args <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            demo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> prompt <span class="token operator">=</span> args<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token string">'%'</span><span class="token punctuation">;</span> <span class="token comment">// Prompt to look for in lines</span>
        <span class="token keyword">var</span> lang <span class="token operator">=</span> <span class="token string">'language-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token string">'console'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Language to colorize</span>

        <span class="token keyword">var</span> promptOut <span class="token operator">=</span> <span class="token string">'&lt;span data-prompt="'</span> <span class="token operator">+</span> prompt <span class="token operator">+</span> <span class="token string">'">&lt;/span>'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> output <span class="token operator">=</span> <span class="token string">'&lt;pre class="'</span> <span class="token operator">+</span> lang <span class="token operator">+</span> <span class="token string">'">&lt;code class="'</span> <span class="token operator">+</span> lang <span class="token operator">+</span> <span class="token string">'">&lt;span class="command-line-prompt">'</span><span class="token punctuation">;</span>

        <span class="token comment">// Visit each line. If line starts with the prompt value, then mark as a command. Otherwise, treat as</span>
        <span class="token comment">// output and don't show the prompt next to it.</span>
        <span class="token comment">//</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> line <span class="token operator">=</span> lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>demo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    output <span class="token operator">=</span> output <span class="token operator">+</span> promptOut<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    output <span class="token operator">=</span> output <span class="token operator">+</span> <span class="token string">'&lt;span data-prompt=" ">&lt;/span>'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> prompt<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">==</span> prompt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'&lt;span class="command-line-command">'</span> <span class="token operator">+</span> <span class="token function">escapeHtml</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>prompt<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                    <span class="token string">'&lt;/span>'</span><span class="token punctuation">;</span>
                output <span class="token operator">=</span> output <span class="token operator">+</span> promptOut<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">escapeHtml</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
                output <span class="token operator">=</span> output <span class="token operator">+</span> <span class="token string">'&lt;span data-prompt=" ">&lt;/span>'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> output <span class="token operator">+</span> <span class="token string">'&lt;/span>'</span> <span class="token operator">+</span> lines<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&lt;/code>&lt;/pre>'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></section><footer class=post-footer><figure class=author-image><a class=img href=https://keystrokecountdown.com style=background-image:url(/images/HarrisonsLaugh.png)><span class=hidden>Brad Howes's Picture</span></a></figure><section class=author><h4><a href=https://keystrokecountdown.com>Brad Howes</a></h4><p>Owner <a href=https://apps.apple.com/us/developer/b-ray-software/id430573224>B-Ray Software</a>. Programmer in C++, Swift, Python, Javascript and more. Started out doing punch cards in FORTRAN.</p><div class=author-meta><span class="author-location icon-location">Paris, France</span> <span class="author-link icon-link"><a href=http://linkedin.com/in/bradhowes>http://linkedin.com/in/bradhowes</a></span> <span class="author-link icon-feed"><a href=mailto:bradhowes@mac.com>&nbsp;Email Me</a></span></div></section><section class=share><h4>Share this page</h4><div class=social-icons><a class=icon-twitter href="https://twitter.com/intent/tweet?text=Formatting%20Console%20Output&amp;url=https%3A%2Fkeystrokecountdown.com%2Farticles%2Fconsole%2Findex.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><span class=hidden>Twitter</span> </a><a class=icon-feed href="mailto:bradhowes@mac.com?subject=Curiosity&body=https%3A%2Fkeystrokecountdown.com%2Farticles%2Fconsole%2Findex.html"><span class=hidden>Email</span></a></div></section></footer></article></main><aside class=read-next><a class=read-next-story style="background-image: url(/articles/layout/docker.png)" href=/articles/layout/index.html><section class=post><h2>[DRAFT] Test Page for CSS Settings</h2><div class=post-meta>Document to validate changes to CSS configuration</div></section></a><a class="read-next-story prev" style="background-image: url(/articles/letencrypt/computer-keyboard-stones-on-grass-background-header.jpg)" href=/articles/letencrypt/index.html><section class=post><h2>Fixing Azure Let&#x27;s Encrypt Expired Key</h2><div class=post-meta>Account of what I did to fix a broken Azure Let&#x27;s Encrypt web job</div></section></a></aside><footer class="site-footer clearfix"><section class=copyright><a href=https://keystrokecountdown.com>Keystroke Countdown</a> &copy; <span id=copyrightYear>2018</span> Brad Howes — <a href=https://github.com/bradhowes/keystrokecountdown>Source</a></section></footer></div><script>(function () {
      var installClickHandlers = function () {
        var navElement = document.getElementById("nav");
    
        // The click handler just toggles classes to do the showing/hiding
        //
        var clickHandler = function(e) {
          document.body.classList.toggle("nav-opened");
          document.body.classList.toggle("nav-closed");
          if (navElement) {
            navElement.classList.toggle("nav-opened");
            navElement.classList.toggle("nav-closed");
          }
        };
    
        // Find elements we wish to tap for click events
        //
        var elements = Array.prototype.slice.call(
          document.querySelectorAll(".menu-button, .nav-cover, .nav-close"));
        if (elements && elements.length > 0) {
          elements.forEach(function (element) {
            element.addEventListener('click', clickHandler);
          });
        }
      };
    
      // When the document is finished loading, install event handlers to show/hide sidebar menu
      //
      window.document.addEventListener("DOMContentLoaded", function (event) {
        installClickHandlers();
    
        // Set the copyright year at the bottom of our pages
        //
        window.document.getElementById("copyrightYear").innerHTML = (new Date()).getFullYear();
      });
    })();</script></body></html>